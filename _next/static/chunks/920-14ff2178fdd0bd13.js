"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{4920:function(a,e,n){n.r(e);var o=n(5893),l=n(7294);n(4005);var t=n(7915),r=n(8465),s=n(1163);e.default=()=>{var a;let e=(0,s.useRouter)();(0,l.useEffect)(()=>{(async()=>{try{a=(await (0,t.lq)()).id,c(e=>({...e,id:a}))}catch(a){console.error("Failed to fetch user data:",a)}})()},[]);let[n,c]=(0,l.useState)({nama_pemesan:"",no_telp:"",penumpang:[{nama_penumpang:"",no_tiket:"",kode_booking:"",harga_jual:"",harga_nett:"",unicorn:"",kode_promosi:"",kode_unicorn:"",kartu_kredit:""}],no_maskapai:"",kota_asal:"",kota_tujuan:"",tanggal_perjalanan:"",jam_penerbangan:"",id:a}),[m,i]=(0,l.useState)(!1),d=(a,e,o)=>{if(void 0!==e){let l=[...n.penumpang];l[e][o]=a.target.value,c({...n,penumpang:l})}else c({...n,[a.target.name]:a.target.value})},u=a=>{let e=n.penumpang.filter((e,n)=>n!==a);c({...n,penumpang:e})},_=(a,e)=>{let o=[...n.penumpang];if(a.target.checked){let a={...n.penumpang[e-1]};o[e]={nama_penumpang:"",no_tiket:"",kode_booking:"",harga_jual:a.harga_jual,harga_nett:a.harga_nett,unicorn:a.unicorn,kode_promosi:a.kode_promosi,kode_unicorn:a.kode_unicorn,kartu_kredit:a.kartu_kredit}}else o[e]={nama_penumpang:"",no_tiket:"",kode_booking:"",harga_jual:"",harga_nett:"",unicorn:"",kode_promosi:"",kode_unicorn:"",kartu_kredit:""};c({...n,penumpang:o})},p=async a=>{a.preventDefault();try{await (0,r.G)(n),e.push("/")}catch(a){console.error("Login failed:",a)}};return(0,o.jsxs)("form",{onSubmit:p,encType:"multipart/form-data",children:[(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("label",{htmlFor:"nama_pemesan",className:"form-label",children:"Nama Pemesan"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"nama_pemesan",name:"nama_pemesan",value:n.nama_pemesan,onChange:d,required:!0})]}),(0,o.jsxs)("div",{className:"mt-3 mb-3",children:[(0,o.jsx)("label",{htmlFor:"no_telp",className:"form-label",children:"No Telp"}),(0,o.jsx)("input",{type:"number",className:"form-control",id:"no_telp",name:"no_telp",value:n.no_telp,onChange:d,required:!0,min:"1000000000"})]}),n.penumpang.map((a,e)=>(0,o.jsxs)("div",{className:"form-row mb-3",children:[(0,o.jsxs)("div",{className:"row mb-3",children:[e>0&&(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"nama_penumpang_".concat(e),className:"form-label",children:"Nama Penumpang"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"nama_penumpang_".concat(e),name:"nama_penumpang_".concat(e),value:a.nama_penumpang,onChange:a=>d(a,e,"nama_penumpang"),required:!0})]}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"nomor_tiket_".concat(e),className:"form-label",children:"Nomor Tiket"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"nomor_tiket_".concat(e),name:"no_tiket_".concat(e),value:a.no_tiket,onChange:a=>d(a,e,"no_tiket"),required:!0})]}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"kode_booking_".concat(e),className:"form-label",children:"Kode Booking"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"kode_booking_".concat(e),name:"kode_booking_".concat(e),value:a.kode_booking,onChange:a=>d(a,e,"kode_booking"),required:!0})]}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"harga_jual_".concat(e),className:"form-label",children:"Harga Jual"}),(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("p",{children:"Rp. "}),(0,o.jsx)("input",{type:"number",className:"form-control",id:"harga_jual_".concat(e),name:"harga_jual_".concat(e),value:a.harga_jual,onChange:a=>d(a,e,"harga_jual"),required:!0})]})]}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"harga_nett_".concat(e),className:"form-label",children:"NTA"}),(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("p",{children:"Rp. "}),(0,o.jsx)("input",{type:"number",className:"form-control",id:"harga_nett_".concat(e),name:"harga_nett_".concat(e),value:a.harga_nett,onChange:a=>d(a,e,"harga_nett"),required:!0})]})]})]}),(0,o.jsxs)("div",{className:"row mb-3",children:[(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"unicorn_".concat(e),className:"form-label",children:"Unicorn"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"unicorn_".concat(e),name:"unicorn_".concat(e),value:a.unicorn,onChange:a=>d(a,e,"unicorn"),required:!0})]}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"kode_promosi_".concat(e),className:"form-label",children:"Kode Promosi"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"kode_promosi_".concat(e),name:"kode_promosi_".concat(e),value:a.kode_promosi,onChange:a=>d(a,e,"kode_promosi"),required:!0})]}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"kode_unicorn_".concat(e),className:"form-label",children:"Kode Unicorn"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"kode_unicorn_".concat(e),name:"kode_unicorn_".concat(e),value:a.kode_unicorn,onChange:a=>d(a,e,"kode_unicorn"),required:!0})]}),(0,o.jsxs)("div",{className:"col pt-3",children:[(0,o.jsx)("label",{htmlFor:"kartu_kredit_".concat(e),className:"form-label",children:"Kartu Kredit"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"kartu_kredit_".concat(e),name:"kartu_kredit_".concat(e),value:a.kartu_kredit,onChange:a=>d(a,e,"kartu_kredit"),required:!0})]})]}),m&&e>0&&(0,o.jsxs)("div",{className:"form-check mt-3 mb-3",children:[(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",id:"checkbox_".concat(e),onChange:a=>_(a,e)}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"checkbox_".concat(e),children:(0,o.jsx)("strong",{children:"Copy"})})]}),e>0&&(0,o.jsx)("button",{type:"button",onClick:()=>u(e),className:"btn btn-danger",children:"-"})]},e)),n.penumpang.length<6&&(0,o.jsx)("button",{type:"button",onClick:()=>{c({...n,penumpang:[...n.penumpang,{nama_penumpang:"",no_tiket:"",kode_booking:"",harga_jual:"",harga_nett:"",unicorn:"",kode_promosi:"",kode_unicorn:"",kartu_kredit:""}]}),i(!0)},className:"btn btn-success",children:"+"}),(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("label",{htmlFor:"no_maskapai",className:"form-label",children:"Nomor Maskapai"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"no_maskapai",name:"no_maskapai",value:n.no_maskapai,onChange:d,required:!0})]}),(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("label",{htmlFor:"kota_asal",className:"form-label",children:"Kota Asal"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"kota_asal",name:"kota_asal",value:n.kota_asal,onChange:d,required:!0})]}),(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("label",{htmlFor:"kota_tujuan",className:"form-label",children:"Kota Tujuan"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"kota_tujuan",name:"kota_tujuan",value:n.kota_tujuan,onChange:d,required:!0})]}),(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("label",{htmlFor:"tanggal_perjalanan",className:"form-label",children:"Tanggal Perjalanan"}),(0,o.jsx)("input",{type:"date",className:"form-control",id:"tanggal_perjalanan",name:"tanggal_perjalanan",value:n.tanggal_perjalanan,onChange:d,required:!0})]}),(0,o.jsxs)("div",{className:"mt-3 mb-3",children:[(0,o.jsx)("label",{htmlFor:"jam_penerbangan",className:"form-label",children:"Jam Penerbangan"}),(0,o.jsx)("input",{type:"time",className:"form-control",id:"jam_penerbangan",name:"jam_penerbangan",value:n.jam_penerbangan,onChange:d,required:!0})]}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})}}}]);