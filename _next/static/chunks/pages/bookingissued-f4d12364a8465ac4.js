(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[734],{8156:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bookingissued",function(){return n(5597)}])},7915:function(e,t,n){"use strict";n.d(t,{TX:function(){return r},lq:function(){return s},me:function(){return o},pH:function(){return a}});let a=async(e,t)=>{try{let n=await fetch("https://api.satria-wisata.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({RequestParameter:{email:e,password:t},SecretKey:"SAT123SU77",APPS:"satriaweb"})});if(!n.ok)throw Error("Login failed");let a=await n.json(),r=Date.now()+1e3*a.expires_in;return sessionStorage.setItem("token",a.token),sessionStorage.setItem("expires_at",r.toString()),a}catch(e){throw Error("Login failed")}},r=async()=>{try{sessionStorage.removeItem("token"),sessionStorage.removeItem("expires_at")}catch(e){throw Error("Logout failed")}},o=async()=>{let e=sessionStorage.getItem("token");try{let t=await fetch("https://api.satria-wisata.com/api/auth/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch user data");return(await t.json()).name}catch(e){throw Error("Login failed")}},s=async()=>{let e=sessionStorage.getItem("token");try{let t=await fetch("https://api.satria-wisata.com/api/auth/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch user data");let n=await t.json();return console.log(n),n}catch(e){throw Error("Login failed")}}},7961:function(e,t,n){"use strict";var a=n(5893),r=n(7294),o=n(1163);t.Z=e=>t=>{let n=(0,o.useRouter)();return(0,r.useEffect)(()=>{let e=sessionStorage.getItem("token"),t=sessionStorage.getItem("expires_at");(!e||!t||Date.now()>parseInt(t))&&n.push("/login")},[]),(0,a.jsx)(e,{...t})}},5597:function(e,t,n){"use strict";n.r(t);var a=n(5893);n(7294);var r=n(4205);t.default=()=>(0,a.jsx)(r.default,{})},852:function(e,t,n){"use strict";n.r(t);var a=n(5893);n(7294),t.default=()=>(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:"/assets/images/logosatria.png",alt:"logo",style:{height:"10vh"}})})},7666:function(e,t,n){"use strict";n.r(t);var a=n(5893),r=n(1664),o=n.n(r),s=n(7294),i=n(7697),c=n.n(i),d=n(852),l=n(7915),u=n(1163);t.default=()=>{let[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),i=(0,u.useRouter)();(0,s.useEffect)(()=>{let e=()=>{r(window.innerWidth<=1e3)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let h=()=>{t(!e)},f=async()=>{await (0,l.TX)(),i.push("/login")};return(0,a.jsxs)("div",{className:c().navbar,children:[(0,a.jsx)(o(),{href:"/",children:(0,a.jsx)(d.default,{})}),n?(0,a.jsxs)("div",{className:c().dropdown,children:[(0,a.jsx)("button",{onClick:h,className:c().dropbtn,children:"â˜° "}),e&&(0,a.jsxs)("div",{className:c().dropdownContent,children:[(0,a.jsx)(o(),{href:"/",children:"Home"}),(0,a.jsx)(o(),{href:"/datafaktur",children:"Data Faktur"}),(0,a.jsx)(o(),{href:"/profile",children:"Profile"}),(0,a.jsx)(o(),{href:"/login",onClick:f,children:"Logout"})]})]}):(0,a.jsxs)("div",{className:c().dropdown,children:[(0,a.jsx)("button",{onClick:h,className:c().dropbtn,children:"Profile"}),e&&(0,a.jsxs)("div",{className:c().dropdownContent,children:[(0,a.jsx)(o(),{href:"#",children:"Profile"}),(0,a.jsx)(o(),{href:"/login",onClick:f,children:"Logout"})]})]})]})}},3261:function(e,t,n){"use strict";n.r(t);var a=n(5893),r=n(1664),o=n.n(r),s=n(1163),i=n(2554),c=n.n(i);n(852),t.default=()=>{let e=(0,s.useRouter)();return(0,a.jsx)("div",{className:c().sidebar,children:(0,a.jsxs)("ul",{className:c().navLinks,children:[(0,a.jsx)("li",{className:"/"===e.pathname?c().active:"",children:(0,a.jsx)(o(),{href:"/",children:"Home"})}),(0,a.jsx)("li",{className:"/datafaktur"===e.pathname?c().active:"",children:(0,a.jsx)(o(),{href:"/datafaktur",children:"Data Faktur"})}),(0,a.jsx)("li",{className:"/contact"===e.pathname?c().active:"",children:(0,a.jsx)(o(),{href:"/contact",children:"Contact"})})]})})}},4205:function(e,t,n){"use strict";n.r(t);var a=n(5893),r=n(3261),o=n(7666),s=n(2003),i=n.n(s),c=n(7961);t.default=(0,c.Z)(e=>{let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.default,{}),(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsx)("div",{className:i().sidebar,children:(0,a.jsx)(r.default,{})}),(0,a.jsx)("div",{className:i().content,children:t})]})]})})},7697:function(e){e.exports={navbar:"Navbar_navbar__FkDBW",dropdown:"Navbar_dropdown__l33L_",dropbtn:"Navbar_dropbtn__y_FtL",dropdownContent:"Navbar_dropdownContent__j3s04"}},2554:function(e){e.exports={sidebar:"Sidebar_sidebar__AuXS2",navLinks:"Sidebar_navLinks__G_sZa",active:"Sidebar_active__3o1Gj"}},2003:function(e){e.exports={content:"Home_content__Qnbja",contint:"Home_contint__pCTM0","box-container":"Home_box-container__9VIhg",fakturcoy:"Home_fakturcoy__GRj6O",box:"Home_box__9OzCW",box2:"Home_box2__YWsfu",sidebar:"Home_sidebar__7e4Eq"}}},function(e){e.O(0,[424,888,774,179],function(){return e(e.s=8156)}),_N_E=e.O()}]);