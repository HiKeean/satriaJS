(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{2776:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/fakturtiketform",function(){return a(4920)}])},7915:function(t,e,a){"use strict";a.d(e,{TX:function(){return o},lq:function(){return i},me:function(){return r},pH:function(){return n}});let n=async(t,e)=>{try{let a=await fetch("https://api.satria-wisata.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({RequestParameter:{email:t,password:e},SecretKey:"SAT123SU77",APPS:"satriaweb"})});if(!a.ok)throw Error("Login failed");let n=await a.json(),o=Date.now()+1e3*n.expires_in;return sessionStorage.setItem("token",n.token),sessionStorage.setItem("expires_at",o.toString()),n}catch(t){throw Error("Login failed")}},o=async()=>{try{sessionStorage.removeItem("token"),sessionStorage.removeItem("expires_at")}catch(t){throw Error("Logout failed")}},r=async()=>{let t=sessionStorage.getItem("token");try{let e=await fetch("https://api.satria-wisata.com/api/auth/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("Failed to fetch user data");return(await e.json()).name}catch(t){throw Error("Login failed")}},i=async()=>{let t=sessionStorage.getItem("token");try{let e=await fetch("https://api.satria-wisata.com/api/auth/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("Failed to fetch user data");let a=await e.json();return console.log(a),a}catch(t){throw Error("Login failed")}}},8465:function(t,e,a){"use strict";a.d(e,{G:function(){return n}});let n=async t=>{let e=sessionStorage.getItem("token");try{let a=await fetch("https://api.satria-wisata.com/api/faktur/createfaktur",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({RequestParameter:{nama_pemesan:t.nama_pemesan,no_telp:t.no_telp,penumpang:t.penumpang,no_maskapai:t.no_maskapai,kota_asal:t.kota_asal,kota_tujuan:t.kota_tujuan,tanggal_perjalanan:t.tanggal_perjalanan,jam_penerbangan:t.jam_penerbangan,user_id:t.id},SecretKey:"SAT123TIK78",APPS:"satriaweb"})});if(!a.ok)throw Error("Login failed");return a}catch(t){throw Error("Login failed")}}},1163:function(t,e,a){t.exports=a(9090)}},function(t){t.O(0,[920,888,774,179],function(){return t(t.s=2776)}),_N_E=t.O()}]);